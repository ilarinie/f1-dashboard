FROM node:18.12.0-slim

WORKDIR /app

RUN npm install -g npm@8.8.0

COPY package.json package-lock.json ./
RUN npm ci

COPY . ./

RUN npx prisma generate

CMD ["npm", "run", "dev"]